@page "/appointments"
@using WebApplication1.Services
@using WebApplication1.Models
@inject AppointmentService AppointmentService;

<div class="container border p-3">
    <div class="row">
        <h3>Appointments</h3>
    </div>
    <div class="row pt-4">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Phone</th>
                    <th>Date</th>
                    <th>Product Name</th>
                    <th>Confirmed</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>

                @foreach (var obj in appointments)
                {
                    <tr>
                        <td>@obj.CustomerName</td>
                        <td>@obj.CustomerEmail</td>
                        <td>@obj.CustomerPhone</td>
                        <td>@obj.AppointmentDate</td>
                        <td>@obj.Product.Name</td>
                        <td><InputCheckbox @bind-Value="obj.IsConfirmed" class="form-control" /></td>
                        <td><button class="btn btn-primary">Edit</button></td>
                    </tr>
                }
            </tbody>

        </table>
    </div>
</div>

@if (ShowPopup)
{

}

@code {
    List<Appointment> appointments;
    bool ShowPopup = false;

    protected override void OnInitialized()
    {
        appointments = AppointmentService.GetAppointments();
    }
}
