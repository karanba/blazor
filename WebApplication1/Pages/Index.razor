@page "/"
@inject IUserService UserService
    <DxDataGrid Data="@DataSource">
        <DxDataGridColumn Field="FirstName" AllowSort="DefaultBoolean.True"></DxDataGridColumn>
        <DxDataGridColumn Field="LastName" AllowSort="DefaultBoolean.True"></DxDataGridColumn>
        <DxDataGridColumn Field="Username" AllowSort="DefaultBoolean.True"></DxDataGridColumn>
    </DxDataGrid>
<DxTreeView AllowSelectNodes="true" 
    SelectionChanged="@SelectionChanged">
    <Nodes>
        <DxTreeViewNode Text="Metals">
            <Nodes>
                <DxTreeViewNode Text="Alkali metals" />
                <DxTreeViewNode Text="Alkaline earth metals" />
                <DxTreeViewNode Text="Inner transition elements">
                    <Nodes>
                        <DxTreeViewNode Text="Lanthanides" />
                        <DxTreeViewNode Text="Actinides" />
                    </Nodes>
                </DxTreeViewNode>
                <DxTreeViewNode Text="Transition elements" />
                <DxTreeViewNode Text="Other metals" />
            </Nodes>
        </DxTreeViewNode>
        <DxTreeViewNode Text="Metalloids" />
        <DxTreeViewNode Text="Nonmetals">
            <Nodes>
                <DxTreeViewNode Text="Halogens" />
                <DxTreeViewNode Text="Noble gases" />
                <DxTreeViewNode Text="Other nonmetals" />
            </Nodes>
        </DxTreeViewNode>
    </Nodes>
</DxTreeView>
<input @bind="IntPro" />
<input @bind="CurrentValue" />
<input @bind="StartDate" @bind:format="yyyy-MM-dd" />
@CurrentValue
<p @bind-style="CurrentValue" @bind-style:event="onchange">
    Ream me 346 4 2 !
</p>
<CatPhotos @ref="cats" />

        Welcome to your new app.

<Counter Title="Hadi" Label="Artır"
         @bind-CurrentCount="@counter" />

<div>
    Counter : @counter
</div>
<SurveyPrompt Title="How is Blazor working for you?" />




@code {
    IEnumerable<User> DataSource;
    private int counter = 5;
    private CatPhotos cats;
    private string CurrentValue { get; set; } = "color:red";
    public int? IntPro { get; set; } = 123;
    public DateTime StartDate { get; set; } = DateTime.Now;
    public void NextCat()
    {
        cats.NextCat();
        this.StateHasChanged();
    }

    protected override async Task OnInitializedAsync()
    {
        DataSource = await UserService.GetAllAsync();
    }

    string SelectedGroup = "none";

    protected void SelectionChanged(TreeViewNodeEventArgs e)
    {
        SelectedGroup = e.NodeInfo.Text;
        InvokeAsync(StateHasChanged);
    }
}
